1
00:00:00,280 --> 00:00:05,220
你可以把 D3.js 的源代码复制粘贴到控制台中

2
00:00:05,220 --> 00:00:08,210
这个代码是最新版本的 D3

3
00:00:08,210 --> 00:00:12,120
注意 它经过了最小化和丑化处理

4
00:00:12,120 --> 00:00:15,270
最小化的意思是 所有空格都被移除了

5
00:00:15,270 --> 00:00:17,539
包括结束行和 Tab

6
00:00:18,590 --> 00:00:21,670
丑化的意思是很多变量的名字都缩短了

7
00:00:21,670 --> 00:00:24,940
替换为一个或两个字母

8
00:00:24,940 --> 00:00:28,020
当然 这个 JavaScript 代码对我们很难读

9
00:00:28,020 --> 00:00:31,340
但还是保留了原本的功能

10
00:00:31,340 --> 00:00:35,480
我可以复制全部代码 直接粘贴到 JavaScript 控制台

11
00:00:35,480 --> 00:00:40,870
然后点击回车键 结果我得到的输出为 True

12
00:00:40,870 --> 00:00:45,840
这意味着 D3 成功加载到浏览器中

13
00:00:45,840 --> 00:00:49,020
已经可以看到一些 D3 的功能

14
00:00:49,020 --> 00:00:53,750
例如 D3 select (选择) 和 selectAll (选择全部) 我们马上会学习它们

15
00:00:53,750 --> 00:00:58,240
在页面中加载 D3 还有一种方法 就是把 D3 库加到一个脚本标签中

16
00:00:59,280 --> 00:01:03,060
我们可以创建一个叫 script 的变量 它会包含该标签

17
00:01:03,060 --> 00:01:06,450
然后把类型设置为 text/javascript

18
00:01:06,450 --> 00:01:09,190
把脚本来源 script.src 设置为 D3 的源代码

19
00:01:09,190 --> 00:01:11,440
可以在网页这里找到

20
00:01:11,440 --> 00:01:15,750
最后 我们要把脚本添加到

21
00:01:15,750 --> 00:01:17,860
网页文档的 head 中

22
00:01:17,860 --> 00:01:21,130
我们还可以点击 Elements 标签 检查一下 D3 是否

23
00:01:21,130 --> 00:01:22,480
已经真的添加到页面中

24
00:01:22,480 --> 00:01:25,960
如果我们点开 head 并下拉查看

25
00:01:25,960 --> 00:01:28,920
不出意外 我们找到了脚本类型

26
00:01:28,920 --> 00:01:32,498
实际上 对于这个页面 我们并不需要再专门加载 D3

27
00:01:32,498 --> 00:01:36,137
因为原来在这个页面的 body 中

28
00:01:36,137 --> 00:01:37,627
已经包含了 D3

29
00:01:37,627 --> 00:01:41,093
但如果你想知道如何对任何网页加载 D3

30
00:01:41,093 --> 00:01:43,234
就像刚才我们描述的那样做准没错

31
00:01:43,234 --> 00:01:46,472
最后提醒一下 如果你刷新或重新加载页面

32
00:01:46,472 --> 00:01:50,384
而那个页面刚好本身没有包含 D3

33
00:01:50,384 --> 00:01:53,758
你在 JavaScript 控制台中定义的

34
00:01:53,758 --> 00:01:57,491
所有 D3 相关变量和方法都会丢失

35
00:01:57,491 --> 00:02:02,031
这个页面不会发生这种情况 因为它已经包含了 D3

36
00:02:02,031 --> 00:02:06,363
如果我刷新页面 输入 D3 很多 D3 方法还在

37
00:02:06,363 --> 00:02:08,614
例如 select (选择) 和 selectAll (选择全部)

38
00:02:08,614 --> 00:02:12,098
所以 让我们找一个不包含 D3 的页面试试

39
00:02:12,098 --> 00:02:16,020
例如 我确定 udacity.com 不包含 D3

40
00:02:16,020 --> 00:02:20,460
所以 如果我打开 JavaScript 控制台 输入 d3. 会发现

41
00:02:20,460 --> 00:02:24,140
没有出现那些常见的方法 说明 D3 没有被定义

42
00:02:25,220 --> 00:02:29,250
一般情况下 你的应用或文件会引用这个 D3 脚本

43
00:02:29,250 --> 00:02:32,510
这样你可以在你的应用中使用它

44
00:02:32,510 --> 00:02:36,550
通常 D3 脚本会浏览内容提供网络 简称 CDN

45
00:02:36,550 --> 00:02:39,880
让你可以快速访问脚本

46
00:02:39,880 --> 00:02:43,750
这样你的客户端可以下载并在应用中使用它

47
00:02:43,750 --> 00:02:46,920
要开始学习使用 D3

48
00:02:46,920 --> 00:02:49,580
我们先改变这个网页上的一些 HTML 元素

49
00:02:49,580 --> 00:02:55,020
然后我们会重建 Hans Rosling 的著名的 Gapminder 图表的一部分

50
00:02:55,020 --> 00:02:57,690
我们会重建这张图表

51
00:02:57,690 --> 00:03:00,420
并重建这个表示中国的圆圈

52
00:03:00,420 --> 00:03:04,800
我们需要知道怎么绘制预期寿命、人均收入

53
00:03:04,800 --> 00:03:08,310
以及总人口 也就是圆圈的大小

54
00:03:08,310 --> 00:03:13,210
要重建这个点 只需要知道轴

55
00:03:13,210 --> 00:03:17,970
刻度和比例 要重建圆圈 就要知道怎么按比例把点放大

56
00:03:17,970 --> 00:03:19,120
好了 让我们开始吧！

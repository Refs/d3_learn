1
00:00:00,390 --> 00:00:06,060
.لا أريد التركيز على التعليمة البرمجية CSS أعلاه أو تحميل البيانات أدناه

2
00:00:06,060 --> 00:00:09,980
.في هذا المثال، أريد فقط التركيز على دالة الرسم

3
00:00:09,980 --> 00:00:13,400
إذا كنتم تشعرون بالفضول بخصوص ما تقوم به دالة CSS

4
00:00:13,400 --> 00:00:16,870
أو دالة تحميل البيانات، فأقترح عليكم قراءة البرنامج التعليمي لـ Mike Bostock بتمعن

5
00:00:16,870 --> 00:00:20,990
.ويوجد رابطه في ملاحظات المدرب

6
00:00:22,050 --> 00:00:26,950
.لقد رأينا بالفعل العديد من الدوال التي يستخدمها Mike في برنامجه التعليمي

7
00:00:26,950 --> 00:00:34,780
.لدينا المقاييس والنطاق والتحديد والسمات والمجال وكذلك ‎.text

8
00:00:34,780 --> 00:00:39,870
.يحدد أول سطرين عرض المخطط وارتفاع الأشرطة

9
00:00:39,870 --> 00:00:44,640
وتنشئ المجموعة الثانية من التعليمات البرمجية هنا مقياسًا خطيًا

10
00:00:44,640 --> 00:00:48,460
.وتعين النطاق ليكون صفرًا إلى عرض المخطط

11
00:00:48,460 --> 00:00:52,850
.وإذا كنتم تفكرون في قيمتي الصفر والعرض هاتين، فإن هذا يبدو منطقيًا للغاية

12
00:00:52,850 --> 00:00:58,330
ولا نريد أن يتم وضع أي نقاط بيانات بعد الصفر على المخطط

13
00:00:58,330 --> 00:00:59,880
.أو في المنطقة السالبة

14
00:00:59,880 --> 00:01:03,250
ولا نريد أن تمتد أي نقاط بيانات إلى خارج حافة

15
00:01:03,250 --> 00:01:05,269
.المخطط في أقصى اليمين

16
00:01:05,269 --> 00:01:09,480
ومن دقة هذه التعليمة البرمجية أنه في حين وضعت لها تسمية

17
00:01:09,480 --> 00:01:13,990
مقياس المحور x عليها وفي حين أن متغير التخزين هو x، لا يوجد

18
00:01:13,990 --> 00:01:20,220
.أي شيء محدد لهذه التعليمة البرمجية أو دوالها التي تحددها كمحور x

19
00:01:20,220 --> 00:01:25,360
.وبرغم ذلك سنرى لاحقًا كيف نستخدمها لإنشاء قيم x

20
00:01:25,360 --> 00:01:30,720
.وتحدد المجموعة الثالثة من التعليمات البرمجية العرض على عنصر المخطط SVG

21
00:01:30,720 --> 00:01:35,740
إذا كنتم تذكرون، فقد قمنا بالترميز الثابت في صفحة HTML

22
00:01:35,740 --> 00:01:37,350
.لعنصر SVG الذي كان يحتوي على مخطط الفئة

23
00:01:37,350 --> 00:01:41,180
لذا، نحدد هنا أن المخطط مع d3.select

24
00:01:41,180 --> 00:01:44,810
.ثم نغير سمة العرض إلى متغير العرض

25
00:01:44,810 --> 00:01:46,770
.في هذه الحالة، 420

26
00:01:46,770 --> 00:01:52,300
،تذكروا أن هذه التعليمة البرمجية تتطابق مع الأشرطة الزرقاء اللون التي وضحتها سابقًا

27
00:01:52,300 --> 00:01:56,880
وأن الأشرطة الزرقاء امتدت من اليسار إلى اليمين أفقيًا

28
00:01:56,880 --> 00:01:58,670
.وفقًا لقيمة البيانات

29
00:01:58,670 --> 00:02:03,530
وفي السطر 28 هنا، يحتوي الطلب إلى أسلوب المجال على X

30
00:02:03,530 --> 00:02:05,800
.على الكثير من الأشياء التي تحدث باستخدامه

31
00:02:05,800 --> 00:02:10,030
.قبل أي شيء، تم إنشاء X أعلاه هنا كمقياس خطي

32
00:02:10,030 --> 00:02:15,100
.وبالرغم من ذلك، تذكروا ما قلته سابقًا عن صيغة d3 المتسلسلة

33
00:02:15,100 --> 00:02:22,580
.وبالرغم من أن d3.scale.linear.range يمثل طلب أسلوب، إلا أنه يُرجع كائن المقياس

34
00:02:22,580 --> 00:02:26,760
.لذا، يمثل x مقياسًا بالفعل وليس نطاقًا

35
00:02:26,760 --> 00:02:32,760
.لذا يستدعي هذا الطلب بالفعل المجال على المقياس x

36
00:02:32,760 --> 00:02:38,620
.ويمثل مجال البيانات القيمة الدنيا والقصوى لقيم البيانات

37
00:02:38,620 --> 00:02:42,800
يمكنكم أن تروا هنا أننا قمنا بالترميز الثابت للقيمة 0

38
00:02:42,800 --> 00:02:44,960
.كقيمة دنيا للمجال

39
00:02:44,960 --> 00:02:49,440
وتأخذ الدالة القصوى d3 البيانات كوسيطة أولى

40
00:02:49,440 --> 00:02:53,510
.ودالة لطلب تلك البيانات كوسيطة ثانية

41
00:02:53,510 --> 00:02:57,080
.لاحظوا هنا أن الدالة تأخذ وسيطة مفردة، وهي d

42
00:02:57,080 --> 00:03:01,770
وما يتم تمريره إلى هذه الدالة هو كل البيانات، لذا يتم تنفيذ

43
00:03:01,770 --> 00:03:07,500
.جزء مفرد من البيانات من صفيف البيانات والدالة مرة واحدة لكل منها

44
00:03:07,500 --> 00:03:09,420
،لذا، داخل هذه الدالة

45
00:03:09,420 --> 00:03:14,910
.تتطابق d بالفعل مع نقطة بيانات مفردة ونحصل على قيمتها

46
00:03:14,910 --> 00:03:17,990
،السبب وراء ضرورة تمرير دالة يرجع إلى إمكانية تضمين d3

47
00:03:17,990 --> 00:03:21,230
،لكونه مكتبة قائمة على البيانات

48
00:03:21,230 --> 00:03:26,100
.طرقًا مختلفة لتحديد القيمة القصوى للمجال الخاص ببيانات محددة

49
00:03:26,100 --> 00:03:31,440
لذلك تتيح هذه الدالة، التي يتم تمريرها كوسيطة ثانية، للدالة القصوى المعممة

50
00:03:31,440 --> 00:03:35,480
.العمل بغض النظر عن الكيفية التي تبدو عليها البيانات أو ماهية البنية

51
00:03:35,480 --> 00:03:40,210
داخل هذه الدالة، تحتاج ببساطة إلى إرجاع أي قيمة من كل

52
00:03:40,210 --> 00:03:45,980
.نقطة بيانات تريدون استخدامها كقيمة لمقارنتها في حساب القيمة القصوى

53
00:03:45,980 --> 00:03:52,030
.لاحظوا أيضًا أننا لا نخزن قيمة الإرجاع الخاصة بـ x.domain في أي متغير

54
00:03:52,030 --> 00:03:54,680
ويرجع هذا إلى أن المجال

55
00:03:54,680 --> 00:03:58,550
،والنطاق يغيران الحالة الداخلية لكائن المقياس

56
00:03:58,550 --> 00:04:03,150
.مع تحديد بعض الخصائص على الكائن نفسه بدلاً من إرجاع قيمة

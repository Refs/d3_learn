1
00:00:00,260 --> 00:00:03,430
接下来三个区块的代码

2
00:00:03,430 --> 00:00:05,350
是 D3 缔造过很多神奇的地方

3
00:00:05,350 --> 00:00:10,970
第一部分将我们的数据绑定至 SVG 值

4
00:00:10,970 --> 00:00:13,640
这是对 D3 新学者来说

5
00:00:13,640 --> 00:00:16,090
最让人困惑的部分之一

6
00:00:16,090 --> 00:00:19,480
我们首先访问 SVG 的图表元素

7
00:00:19,480 --> 00:00:23,270
找到这里可能存在的各种群组标签

8
00:00:23,270 --> 00:00:28,150
群组标签相当于 HTML 的 div 标签

9
00:00:28,150 --> 00:00:31,160
虽然没有视觉显示 但是它可以作用于群组

10
00:00:31,160 --> 00:00:34,310
组织内部的内容

11
00:00:34,310 --> 00:00:39,100
然后我们绑定数据 将从绘制函数中获得的数据

12
00:00:39,100 --> 00:00:43,425
发至 .data 函数 这样可以将它绑定至群组

13
00:00:43,425 --> 00:00:48,810
.enter 会传回 .data 调用的子集

14
00:00:48,810 --> 00:00:54,320
代表的是页面上还没有放置的每个数据

15
00:00:54,320 --> 00:00:57,170
当前情况下 第一次调用 .data 时

16
00:00:57,170 --> 00:01:01,932
页面上还没有任何数据绑定过的元素

17
00:01:01,932 --> 00:01:07,122
所以 .enter 实际上包含数据中每个点的一个元素

18
00:01:07,122 --> 00:01:11,700
.append g 让浏览器

19
00:01:11,700 --> 00:01:17,960
为 enter 选择中的每个点 在图表上加入一个 g 元素

20
00:01:17,960 --> 00:01:22,570
然后 我们想根据此函数

21
00:01:22,570 --> 00:01:23,790
转化每一个群组元素

22
00:01:23,790 --> 00:01:27,600
里面还有很多东西 我想要进一步了解

23
00:01:27,600 --> 00:01:32,210
但是我们会在之后的课程中学习使用 .data

24
00:01:32,210 --> 00:01:34,690
和 .enter 时具体出现的情况

25
00:01:34,690 --> 00:01:40,230
还会学习不一定需要 .enter 的其他选择类型

26
00:01:40,230 --> 00:01:45,860
从高层次来说 这个代码就是在说 查看我的 SVG

27
00:01:45,860 --> 00:01:49,020
找到里面的 g 标签

28
00:01:49,020 --> 00:01:53,760
如果 g 标签数量为零 那 selectAll 就找不到东西

29
00:01:53,760 --> 00:01:56,230
将数据加入我们的选择

30
00:01:56,230 --> 00:01:59,590
.enter 基本上是数据中

31
00:01:59,590 --> 00:02:04,630
在初始选择中没有对应元素的所有点

32
00:02:04,630 --> 00:02:05,590
在当前情况下

33
00:02:05,590 --> 00:02:10,275
我们的初始选择是空的 因为还没有任何 g 标签

34
00:02:10,275 --> 00:02:16,055
然后 .enter 内含我们的数据中每个点的一个元素

35
00:02:16,055 --> 00:02:18,730
.append 是让 D3

36
00:02:18,730 --> 00:02:24,390
变更每一个新群组元素的属性

37
00:02:24,390 --> 00:02:30,440
根据函数的结果 这个只对 SVG 使用

38
00:02:30,440 --> 00:02:35,150
如果现在还觉得不够清楚

39
00:02:35,150 --> 00:02:37,170
在之后的课程中我们会讲述更多的细节内容

40
00:02:37,170 --> 00:02:39,630
我只是想要告诉你整体是什么样子的

41
00:02:39,630 --> 00:02:41,930
以及如何创建数据驱使的图表
